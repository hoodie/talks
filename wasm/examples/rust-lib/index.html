<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script>
        const dec = new TextDecoder('utf-8');
        (async () => {
            importObject = {
                env: {
                    logger: (str) => console.info(str)
                },
            };

            let { add, speak }  = await fetch('rust-lib-snipped.wasm')
                .then(response => response.arrayBuffer())
                .then(bytes => WebAssembly.instantiate(bytes, importObject))
                .then(result => result.instance.exports);

            console.dir(add(1,2));
        })()
    </script>
</head>

<body>
</body>
</html>
